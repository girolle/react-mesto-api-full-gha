{"version":3,"sources":["components/Footer.js","image/header__logo.svg","components/Header.js","components/ImagePopup.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","image/SuccessfulRegist.svg","image/TryAgainRegist.svg","components/InfoTooltip.js","utils/authApi.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Date","getFullYear","Header","props","React","useState","userInfoOpen","setUserInfoOpen","headerUserEmail","onClick","signOut","buttonName","src","header__logo","alt","loggedIn","to","linkPath","linkName","ImagePopup","card","link","name","type","onClose","CurrentUserContext","createContext","Card","userInfo","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","id","cardLikeButtonClassName","onCardDelete","onCardImageClick","onCardClick","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","item","onCardLike","onDeleteCardClick","PopupWithForm","isOpen","onSubmit","noValidate","title","children","Api","baseUrl","authorization","this","_baseUrl","_authorization","res","ok","json","Promise","reject","status","fetch","method","credentials","headers","then","_checkResponse","patchInquiry","body","postInquiry","delInquiry","inquiry","EditProfilePopup","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","value","onChange","target","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","current","ref","onUpdateAvatar","AddPlacePopup","namePlace","setNamePlace","linkPlace","setLinkPlace","onUpdatePlace","ProtectedRoute","Component","component","Login","email","setEmail","password","setPassword","onAuthorizationUser","Register","onRegisterUser","InfoTooltip","successfulyRegistered","SuccessfulRegist","TryAgainRegist","authApi","token","App","api","localStorage","getItem","history","useHistory","setLoggedIn","handleLogin","currentUser","setCurrentUser","setCards","userEmail","setUserEmail","all","userServerInfo","getInitialCards","userData","cardsData","catch","err","console","log","jwt","tokenCheck","tokenData","push","selectedCard","setSelectedCard","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteConfirmPopupOpen","setIsDeleteConfirmPopupOpen","isRegisterPopupOpen","setIsRegisterPopupOpen","closeAllPopups","setSuccessfulyRegistered","Provider","removeItem","path","cardData","changeLikeCardStatus","newCard","state","c","deleteCard","filter","registerInfo","registration","JSON","stringify","registerData","authorizationInfo","authorizationData","setItem","exact","newAvatarInfo","editAvatar","newUserInfo","editProfile","newCardInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.632a54aa.chunk.js","sourcesContent":["function Footer (){\r\n    return(\r\n        <footer className=\"footer\">\r\n          <p className=\"footer__copyright\"> &copy; {new Date().getFullYear()} Mesto Russian</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/header__logo.b61d43d7.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport header__logo from '../image/header__logo.svg';\r\n\r\nfunction  Header(props){\r\n\r\n    const[userInfoOpen, setUserInfoOpen] = React.useState(false);\r\n\r\n    function onUserInfoOpen(){\r\n        setUserInfoOpen(!userInfoOpen);\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <div className={`pre-header ${userInfoOpen ? 'pre-header_opened' : '' }`}>\r\n            <p className=\"pre-header__user-email\">{props.headerUserEmail || ''}</p>\r\n            <button className=\"pre-header__button\" onClick={props.signOut}>{props.buttonName}</button>\r\n        </div>\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={header__logo} alt=\"Место. Россия\" />\r\n            <div className={`${props.loggedIn ? `header__wrapper ${!userInfoOpen ? 'header__wrapper_type_nav' : 'header__wrapper_type_exit'}` : 'header__wrapper_type_hidden'}`} onClick={onUserInfoOpen}>\r\n                <p className=\"header__user-email\">{props.headerUserEmail || ''}</p>\r\n                <button className=\"header__button\" onClick={props.signOut}>{props.buttonName}</button>\r\n            </div>\r\n            <Link className={`header__link ${props.loggedIn ? 'header__link_type_hidden' : ''}`} to={props.linkPath || ''}>{props.linkName || ''}</Link>\r\n        </header>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header;","function ImagePopup(props) {\r\n    return(\r\n        <div className={`popup popup_type_cardZoom ${ props.card ? 'popup_opened' : ''}`} >\r\n          <div className=\"popup__wrapper\">\r\n            <div className=\"popup__image-wrapper\">\r\n              <img className=\"popup__main-image\" src={props.card ? props.card.link : ''} alt={props.card ? props.card.name : ''} />\r\n              <p className=\"popup__subtitle\">{props.card ? props.card.name : ''}</p>\r\n            </div>\r\n            <button className=\"popup__exit\" type=\"button\" \r\n            onClick={props.onClose}/>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nexport default function Card(props) {\r\n\r\n    const userInfo = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner === userInfo._id;\r\n    const cardDeleteButtonClassName = (`element__delete-button ${isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden'}`)\r\n\r\n    const isLiked = props.card.likes.some(id => id === userInfo._id);\r\n    const cardLikeButtonClassName = (`element__like-button ${isLiked ? 'element__like-button_active' : 'element__like-button_inactive'}`);\r\n    \r\n    function handleClick(){\r\n        props.onCardImageClick(props.card)\r\n    }\r\n\r\n    function handleLikeClick(){\r\n      props.onCardClick(props.card)\r\n    }\r\n\r\n    function handleDeleteClick(){\r\n      props.onCardDelete(props.card)\r\n    }\r\n\r\n    return(\r\n        <div className=\"element\">\r\n        <button className={cardDeleteButtonClassName} type=\"button\"\r\n        onClick={handleDeleteClick}\r\n        />\r\n        <img className=\"element__image\" src={props.card.link} alt={props.card.name} \r\n        onClick={handleClick}/>\r\n        <div className=\"element__main\">\r\n          <p className=\"element__title\">{props.card.name}</p>\r\n          <div className=\"element__like-space\">\r\n            <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}/>\r\n            <p className=\"element__like-counter\">{props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\nimport Header from './Header';\r\n\r\nfunction Main(props){\r\n\r\n    const userInfo = React.useContext(CurrentUserContext); \r\n\r\n    return(\r\n      <>\r\n      <Header \r\n      loggedIn={props.loggedIn}\r\n      signOut={props.signOut}\r\n      buttonName=\"Выйти\"\r\n      headerUserEmail={props.headerUserEmail}/>\r\n        <main className=\"content\">\r\n          <section className=\"profile\">\r\n            <div className=\"profile__content\">\r\n              <img className=\"avatar\" src={userInfo.avatar} alt=\"Ваш аватар\" \r\n              onClick={props.onEditAvatar} />\r\n              <div className=\"profile__info\">\r\n                <ul className=\"profile__unnumbered-list\">\r\n                  <li className=\"profile__list\"><h1 className=\"profile__name\">{userInfo.name}</h1></li>\r\n                  <li className=\"profile__list\"><p className=\"profile__status\">{userInfo.about}</p></li>\r\n                </ul>\r\n                <button className=\"profile__edit-button\" type=\"button\" \r\n                onClick={props.onEditProfile} />\r\n              </div>\r\n            </div>\r\n            <button className=\"profile__add-button\" type=\"button\" \r\n            onClick={props.onAddPlace} />\r\n          </section>\r\n\r\n          <section className=\"elements\">\r\n              {props.cards.map((item) => (\r\n                  <Card \r\n                  key={item._id}\r\n                  onCardClick={props.onCardLike}\r\n                  onCardDelete={props.onCardDelete}\r\n                  card={item}\r\n                  onCardImageClick={props.onCardClick}\r\n                  onDeleteCardClick={props.onDeleteCardClick}/>\r\n              )\r\n              )}\r\n          </section>\r\n        </main>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Main;","function PopupWithForm(props){\r\n    return(\r\n        <div className={`popup popup_type_${props.name} ${ props.isOpen ? 'popup_opened' : ''}`} >\r\n        <div className=\"popup__wrapper\">\r\n          <form className={`popup__container popup__container_${props.name}`} name={props.name} onSubmit={props.onSubmit} noValidate>\r\n            <h2 className=\"popup__title\">{props.title}</h2>\r\n            {props.children}\r\n          </form>\r\n          <button className=\"popup__exit\" type=\"button\" \r\n          onClick={props.onClose}/> \r\n        </div>\r\n      </div>\r\n\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","class Api {\r\n    constructor({baseUrl, authorization}){\r\n        this._baseUrl = baseUrl;\r\n        this._authorization = authorization;\r\n    }\r\n\r\n    _checkResponse(res){\r\n        if(res.ok){  \r\n            return res.json();\r\n            }\r\n            return Promise.reject(res.status)\r\n    }\r\n\r\n    userServerInfo(){\r\n       return fetch(`${this._baseUrl}/users/me`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n            headers: {\r\n                authorization: `Bearer ${this._authorization}`,\r\n                \"Content-Type\": \"application/json\",\r\n            }\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: `Bearer ${this._authorization}`,\r\n                \"Content-Type\": \"application/json\",\r\n            }\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    editProfile(patchInquiry) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: `Bearer ${this._authorization}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: patchInquiry\r\n        })\r\n        .then(this._checkResponse); \r\n    }\r\n\r\n    addCard(postInquiry) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: `Bearer ${this._authorization}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: postInquiry\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    deleteCard(delInquiry){\r\n        return fetch(`${this._baseUrl}/cards/${delInquiry}`, {\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: `Bearer ${this._authorization}`,\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            }\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    changeLikeCardStatus(inquiry, isLiked){\r\n        if(isLiked){\r\n            return fetch(`${this._baseUrl}/cards/${inquiry}/likes`, {\r\n                method: 'DELETE',\r\n                credentials: 'include',\r\n                headers: {\r\n                    authorization: `Bearer ${this._authorization}`,\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            })\r\n            .then(this._checkResponse)\r\n        }else{  \r\n            return fetch(`${this._baseUrl}/cards/${inquiry}/likes`, {\r\n                method: 'PUT',\r\n                credentials: 'include',\r\n                headers: {\r\n                    authorization: `Bearer ${this._authorization}`,\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            })\r\n            .then(this._checkResponse)\r\n        }\r\n    }\r\n\r\n    editAvatar(patchInquiry){\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            credentials: 'include',\r\n            headers: {\r\n                authorization: `Bearer ${this._authorization}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: patchInquiry\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n}\r\n\r\n  export default Api;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditProfilePopup(props){\r\n    const userInfo = React.useContext(CurrentUserContext);\r\n\r\n    const[name, setName] = React.useState('');\r\n    const[description, setDescription] = React.useState('');\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name: name, \r\n            about: description,\r\n        })\r\n    }\r\n\r\n    function handleNameChange(e){\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e){\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(userInfo.name || '');\r\n        setDescription(userInfo.about || '');\r\n    }, [userInfo, props.isOpen]);\r\n\r\n    return(\r\n        <PopupWithForm \r\n            onSubmit={handleSubmit}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            name='profileEdit'\r\n            title='Редактировать профиль'\r\n            children={\r\n            <>\r\n            <input id=\"name-input\" className=\"popup__input popup__input_name\" placeholder=\"Имя\" name=\"name\" type=\"text\" value={name} onChange={handleNameChange} minLength=\"2\" maxLength=\"40\" required />\r\n            <span className=\"name-input-error popup__input-error\" />\r\n            <input id=\"status-input\" className=\"popup__input popup__input_status\" placeholder=\"О себе\" name=\"about\" value={description} onChange={handleDescriptionChange} type=\"text\" minLength=\"2\" maxLength=\"200\" required />\r\n            <span className=\"status-input-error popup__input-error\" />\r\n            <button className=\"popup__save\" type=\"submit\">Сохранить</button>\r\n            </>\r\n            }\r\n        />\r\n    )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditAvatarPopup(props){\r\n\r\n    const avatarRef = React.useRef('');\r\n    \r\n    \r\n    React.useEffect(() => {\r\n      avatarRef.current.value='';\r\n    }, [props.isOpen]);\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value, \r\n        });\r\n    }\r\n\r\n   return( <PopupWithForm  \r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    name='avatarEdit'\r\n    title='Обновить аватар'\r\n    children={\r\n   <>\r\n      <input id=\"avatar-link-input\" className=\"popup__input popup__input_avatar-link\" ref={avatarRef} placeholder=\"Ссылка на картинку\" name=\"avatar\" type=\"url\" required />\r\n      <span className=\"avatar-link-input-error popup__input-error\" />\r\n      <button className=\"popup__save\" type=\"submit\" onClick={handleSubmit}>Сохранить</button>\r\n    </>\r\n  }\r\n    />\r\n   )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup(props){\r\n    const[namePlace, setNamePlace] = React.useState('');\r\n    const[linkPlace, setLinkPlace] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setNamePlace('');\r\n        setLinkPlace('');\r\n    }, [props.isOpen]);\r\n\r\n    function handleAddPlaceSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdatePlace({\r\n            name: namePlace, \r\n            link: linkPlace,\r\n        })\r\n    }\r\n\r\n    function handleNamePlaceChange(e){\r\n        setNamePlace(e.target.value);\r\n    }\r\n\r\n    function handleLinkPlaceChange(e){\r\n        setLinkPlace(e.target.value);\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            onClose={props.onClose}\r\n            name='placeAdd'\r\n            title='Новое место'\r\n            isOpen={props.isOpen}\r\n            children={\r\n            <>\r\n            <input id=\"place-name-input\" className=\"popup__input popup__input_place-name\" value={namePlace} onChange={handleNamePlaceChange} placeholder=\"Название\" name=\"name\" type=\"text\" minLength=\"2\" maxLength=\"30\" required />\r\n            <span className=\"place-name-input-error popup__input-error\" />\r\n            <input id=\"place-link-input\" className=\"popup__input popup__input_place-link\" value={linkPlace} onChange={handleLinkPlaceChange} placeholder=\"Ссылка на картинку\" name=\"link\" type=\"url\" required />\r\n            <span className=\"place-link-input-error popup__input-error\" />\r\n            <button className=\"popup__save\" type=\"submit\" onClick={handleAddPlaceSubmit}>Создать</button>\r\n            </>}\r\n        />\r\n    )\r\n}","import React from \"react\";\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({component: Component, ...props}) => {\r\n    return(\r\n        <Route>\r\n            {() => \r\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\n\r\nfunction Login (props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function loginInfo(e){\r\n    e.preventDefault();\r\n    props.onAuthorizationUser({\r\n      password: password,\r\n      email: email\r\n    })\r\n  }\r\n\r\n  function handleEmailChange(e){\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e){\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n    return(\r\n        <div className=\"form\">\r\n          <form className=\"form__container form__container_login\" onSubmit={loginInfo} noValidate>\r\n            <h2 className=\"form__title\">Вход</h2>\r\n            <input id=\"email-input\" className=\"form__input form__input_email\" onChange={handleEmailChange} placeholder=\"Email\" name=\"e-mail\" type=\"email\" minLength=\"2\" maxLength=\"40\" required />\r\n            <span className=\"email-input-error email__input-error\" />\r\n            <input id=\"password-input\" className=\"form__input form__input_password\" onChange={handlePasswordChange} placeholder=\"Пароль\" name=\"password\" type=\"password\" minLength=\"2\" maxLength=\"200\" required />\r\n            <span className=\"password-input-error form__input-error\" />\r\n            <button className=\"form__enter\" type=\"submit\">Войти</button>\r\n          </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register (props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function registerInfo(e){\r\n    e.preventDefault();\r\n    props.onRegisterUser({\r\n      password: password,\r\n      email: email\r\n    })\r\n  }\r\n\r\n  function handleEmailChange(e){\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e){\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n    return(\r\n        <div className=\"form\">\r\n          <form className=\"form__container form__container_register\" onSubmit={registerInfo} noValidate>\r\n            <h2 className=\"form__title\">Регистрация</h2>\r\n            <input id=\"email-input\" className=\"form__input form__input_email\" onChange={handleEmailChange} placeholder=\"Email\" name=\"e-mail\" type=\"email\" minLength=\"2\" maxLength=\"40\" required />\r\n            <span className=\"email-input-error email__input-error\" />\r\n            <input id=\"password-input\" className=\"form__input form__input_password\" onChange={handlePasswordChange} placeholder=\"Пароль\" name=\"password\" type=\"password\" minLength=\"2\" maxLength=\"200\" required />\r\n            <span className=\"password-input-error form__input-error\" />\r\n            <button className=\"form__enter\" type=\"submit\">Зарегистрироваться</button>\r\n            <p className=\"form__already-registered\">Уже зарегистрированы?&nbsp;\r\n             <Link to=\"/sign-in\" className=\"form__already-registered form__already-registered_type_button\">\r\n                 Войти\r\n             </Link>\r\n            </p>\r\n          </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/SuccessfulRegist.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/TryAgainRegist.d4ce2a26.svg\";","import React from 'react';\r\nimport SuccessfulRegist from '../image/SuccessfulRegist.svg';\r\nimport TryAgainRegist from '../image/TryAgainRegist.svg';\r\n\r\nfunction InfoTooltip(props){\r\n    return(\r\n        <div className={`popup popup_type_${props.name} ${ props.isOpen ? 'popup_opened' : ''}`} >\r\n        <div className=\"popup__wrapper\">\r\n          <div className=\"popup__container\">\r\n              <img className=\"popup__register-img\" \r\n              src={props.successfulyRegistered ? SuccessfulRegist : TryAgainRegist} alt=\"Картинка регистрации\"/>\r\n              <h2 className=\"popup__register-title\">{props.successfulyRegistered ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</h2>\r\n          </div>\r\n          <button className=\"popup__exit\" type=\"button\" onClick={props.onClose}/> \r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","class AuthApi{\r\n    constructor({baseUrl}){\r\n       this._baseUrl = baseUrl;\r\n    }\r\n\r\n    _checkResponse(res){\r\n        if(res.ok){  \r\n            return res.json();\r\n            }\r\n            return Promise.reject(res.status)\r\n    }\r\n\r\n    registration(postInquiry){\r\n        return fetch(`${this._baseUrl}/signup`, {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body:postInquiry,\r\n            }\r\n        )\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    authorization(postInquiry){\r\n        return fetch(`${this._baseUrl}/signin`, {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers:{\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body:postInquiry,\r\n            }\r\n        )\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    tokenCheck(token){\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers:{\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\" : `Bearer ${token}`\r\n            }\r\n        }\r\n    )\r\n    .then(this._checkResponse);\r\n}\r\n}\r\n\r\nconst authApi = new AuthApi({\r\n    baseUrl: 'https://api.domainname.kostya2120.nomoredomains.club',\r\n});\r\n\r\nexport default authApi;","import React from 'react'; \r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Footer from './Footer';\r\nimport Header from './Header';\r\nimport ImagePopup from './ImagePopup';\r\nimport Main from './Main';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport Api from '../utils/api';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport authApi from '../utils/authApi';\r\n\r\nfunction App() {\r\n\r\n  let api = new Api({\r\n    authorization: localStorage.getItem('jwt'),\r\n    baseUrl: 'https://api.domainname.kostya2120.nomoredomains.club',\r\n  });\r\n\r\n  const history = useHistory(); \r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  function handleLogin(){\r\n    setLoggedIn(true);\r\n  } \r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n\r\n  function handleCardLike(card){\r\n    const isLiked = card.likes.some(id => id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, isLiked)\r\n    .then((newCard) => {\r\n      setCards((state) => \r\n      state.map(\r\n        (c) => c._id === card._id ? newCard : c)\r\n      )\r\n  })\r\n    .catch((err) => {\r\n      console.log(`Ошибка:${err}. Запрос не выполнен`);\r\n    });\r\n  } \r\n\r\n  function handleCardDelete(card){\r\n  api.deleteCard(card._id)\r\n  .then(() => {\r\n    setCards((cards.filter(item => item._id !== card._id)))\r\n  })\r\n  .catch((err) => {\r\n    console.log(`Ошибка:${err}. Запрос не выполнен`);\r\n  })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.userServerInfo(), api.getInitialCards()])\r\n    .then(([userData, cardsData]) => {\r\n        setCurrentUser(userData);\r\n        setUserEmail(userData.email);\r\n        setCards(cardsData);\r\n    })\r\n    .catch((err) => {\r\n        console.log(`Ошибка:${err}. Запрос не выполнен`);\r\n    })\r\n  }, [localStorage.getItem('jwt')]);\r\n\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if(jwt){\r\n      authApi.tokenCheck(jwt)\r\n      .then((tokenData) => {\r\n        if(tokenData){\r\n          handleLogin();\r\n          history.push('/main');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка:${err}. Запрос не выполнен`);\r\n      })\r\n    }\r\n  }, []);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  function handleCardClick(cardData){\r\n    setSelectedCard(cardData);\r\n  }\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  function handleEditAvatarClick(){\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  function handleEditProfileClick(){\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  \r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  function handleAddPlaceClick(){\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  const[isDeleteConfirmPopupOpen, setIsDeleteConfirmPopupOpen] = React.useState(false);\r\n  function handleDeleteCardClick(){\r\n    setIsDeleteConfirmPopupOpen(true);\r\n  }\r\n\r\n  const[isRegisterPopupOpen, setIsRegisterPopupOpen] = React.useState(false);\r\n\r\n  function closeAllPopups(){\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeleteConfirmPopupOpen(false);\r\n    setIsRegisterPopupOpen(false);\r\n    setSelectedCard(null);\r\n  };\r\n\r\n  function handleUpdateUser(newUserInfo){\r\n    api.editProfile(JSON.stringify(newUserInfo))\r\n    .then((userData) => {\r\n      setCurrentUser(userData);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n        console.log(`Ошибка:${err}. Запрос не выполнен`);\r\n    })\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatarInfo){\r\n    api.editAvatar(JSON.stringify(newAvatarInfo))\r\n      .then((userData) => {\r\n          setCurrentUser(userData);\r\n          closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n          console.log(`Ошибка:${err}. Запрос не выполнен`);\r\n      })\r\n  }\r\n\r\n  function handleUpdateCards(newCardInfo){\r\n    api.addCard(JSON.stringify(newCardInfo))\r\n    .then((cardsData) => {\r\n      setCards([cardsData, ...cards])\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n        console.log(`Ошибка:${err}. Запрос не выполнен`);\r\n    })\r\n  }\r\n\r\n  const [successfulyRegistered, setSuccessfulyRegistered] = React.useState(false);\r\n\r\n  function registerNewUser(registerInfo){\r\n    authApi.registration(JSON.stringify(registerInfo))\r\n    .then((registerData) => {\r\n      setSuccessfulyRegistered(true);\r\n      setIsRegisterPopupOpen(true);\r\n    })\r\n    .catch((err) => {\r\n      setSuccessfulyRegistered(false);\r\n      setIsRegisterPopupOpen(true);\r\n      console.log(`Ошибка:${err}. Запрос не выполнен`);\r\n    })\r\n  }\r\n\r\n  function authorizationUser(authorizationInfo){\r\n    authApi.authorization(JSON.stringify(authorizationInfo))\r\n    .then((authorizationData) => {\r\n      localStorage.setItem('jwt', authorizationData.token);\r\n      handleLogin();\r\n      history.push('/main');\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка:${err}. Запрос не выполнен`);\r\n    })\r\n  }\r\n  \r\n  function signOut(){\r\n    localStorage.removeItem('jwt');\r\n    history.push('/sign-in');\r\n    setLoggedIn(false);\r\n}\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value = {currentUser}>\r\n    <div className=\"substrate\">\r\n      <div className=\"page\">\r\n        <Switch>\r\n            <ProtectedRoute \r\n            signOut={signOut}\r\n            headerUserEmail={userEmail}\r\n            path=\"/main\"\r\n            loggedIn={loggedIn}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            onDeleteCardClick={handleDeleteCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            component={Main}>\r\n            </ProtectedRoute>\r\n            \r\n          <Route path=\"/sign-up\">\r\n           <Header \r\n           linkName=\"Войти\"\r\n           linkPath=\"/sign-in\"/>\r\n            <Register \r\n              onRegisterUser={registerNewUser}/>\r\n            <InfoTooltip \r\n              name=\"registerNotification\"\r\n              isOpen={isRegisterPopupOpen}\r\n              onClose={closeAllPopups}\r\n              successfulyRegistered={successfulyRegistered}/>\r\n          </Route>\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Header \r\n           linkName=\"Регистрация\"\r\n           linkPath=\"/sign-up\"/>\r\n            <Login \r\n            onAuthorizationUser={authorizationUser}\r\n            handleLogin={handleLogin}/>\r\n          </Route>\r\n\r\n          <Route exact path=\"/\">\r\n            {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"sign-in\" />}\r\n          </Route>\r\n\r\n        </Switch>\r\n        <Footer />\r\n\r\n        <ImagePopup\r\n        onClose={closeAllPopups}\r\n        card={selectedCard}\r\n        />\r\n\r\n        <EditAvatarPopup \r\n        onClose={closeAllPopups}\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onUpdateAvatar={handleUpdateAvatar} \r\n        />\r\n       \r\n      <EditProfilePopup \r\n        onClose={closeAllPopups} \r\n        isOpen={isEditProfilePopupOpen}\r\n        onUpdateUser={handleUpdateUser} \r\n        />\r\n\r\n      <AddPlacePopup \r\n      onClose={closeAllPopups}\r\n      isOpen={isAddPlacePopupOpen}\r\n      onUpdatePlace={handleUpdateCards}\r\n      />\r\n\r\n       <PopupWithForm \r\n       onClose={closeAllPopups}\r\n       name='deleteConfirm'\r\n       title='Вы уверенны?'\r\n       isOpen={isDeleteConfirmPopupOpen}\r\n       children={\r\n        <button className=\"popup__save\" type=\"submit\">Да</button>\r\n       }\r\n       />\r\n       \r\n      </div>\r\n    </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}